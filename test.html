<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="container">
    <div class="alert alert-warning">
        Done!
    </div>
</div>
<script src="seed.js"></script>
<style data-seed="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css"></style>
<script data-seed="//cdn.bootcss.com/jquery/3.0.0-beta1/jquery.min.js"></script>
<script>

    /**
     * 测试 map 方法；
     *
     * map 方法默认采用 文件参数当作hook。
     *
     * 大概文件生成会有这么几种：
     *
     *      1、版本在路径当中，例如：//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css；bower_components 适用；
     *      2、版本为随机参数（日期、其他戳等），例如：http://static.baidu.com/js/jsfile.js?ver=20160101(默认支持这种更新);
     *      3、md5戳，与文件结尾相融合的。
     *              例如：fis的输出：http://static.baidu.com/js/jsfile_3cdfe3.js;
     *                  或者       http://static.baidu.com/js/jsfile.3cdfe3.js; //点分割
     *                  或者       http://static.baidu.com/js/4323jkljkcaf8ds.js; // 无规则
     *
     *   以上情况可以提供map方法分析hook、存储id，避免占用过多的 ls存储空间。
     *
     */
    Seed.data.map = function ( url ) {
        var datas = url.match( /^(.*\/)(.*)$/i );

        var result = {
            id     : datas[2],
            fileUrl: url,
            hook   : datas[1]
        };

        console.log(
                // 版本号处于地址之间的情况，demo输入如下，已文件名为id，hook采用文件名之前的所有
                JSON.stringify(
                        result,
                        null,
                        4
                )
        );

        return result;
    };

    var $ = {};
    //
    console.log( 'Seed之前：', $ );

    Seed.scan( function () {
        console.log( 'Seed之后：', $ );
    } );
</script>

</body>
</html>