<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <title>Seed test bed.</title>
    <style data-src="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css"></style>
    <style>
        body {
            font-family: "Microsoft yahei", Verdana, Arial, Helvetica, sans-serif;
        }

        .container {
            margin-top: 50px;
        }

        .input {
            overflow: hidden;
            display: block;

            border-left: 1px solid #000;
            padding: 1rem;

            background-color: #eee;
        }

        .input textarea {
            border: none;
            outline: none;
            display: block;
            background-color: transparent;
            width: 100%;
            min-height: 800px;
            padding-bottom: 10rem;
        }
    </style>
</head>
<body>

<div class="container">

    <div id="preview" class="pull-left" style="width: 60%;min-height: 500px;margin-right: 1rem"></div>

    <div class="input">
        <textarea id="input" cols="30" rows="10"></textarea>
    </div>

</div>


<script data-src="//cdn.bootcss.com/jquery/3.0.0-beta1/jquery.min.js"></script>
<script data-src="//cdn.bootcss.com/markdown.js/0.5.0/markdown.min.js"></script>
<textarea class="hide" id="documents">
# Seedjs

可以将您的 `js` 、 `css` 文件在 `localStorage` 中管理。

## 全局配置

### data.delimiter

- 类型： `String`
- 默认值： `"seed"`
- 用法：

```js
Seed.data.delimiter = 'src';
```

修改 dom 查找的界定符。

### data.debug

- 类型： `Boolean`
- 默认值： `false`
- 用法：

```js
Seed.data.debug = true;
```

1、文件不会存储到 `localStorage`
</textarea>
<script src="../dist/seed.js"></script>
<script>
    /* global markdown */

    // Seed.data.debug = true;
    Seed.data.delimiter = 'src';
    Seed.data.map = function ( url ) {
        var datas  = url.match( /^(.*\/)(.*)$/i );
        var result = {
            id     : datas[2],
            fileUrl: url,
            hook   : datas[1]
        };
        console.log(
                // 版本号处于地址之间的情况，demo输入如下，已文件名为id，hook采用文件名之前的所有
                JSON.stringify(
                        result,
                        null,
                        4
                )
        );
        return result;
    };

    Seed.scan( function () {

        var $preview = $( '#preview' );
        var $input   = $( '#input' );

        $input.val(
                Seed.getItem( 'documents' ) || $( '#documents' ).html().trim()
        );

        $input.on( 'input', function () {
            var value = this.value;
            $preview.html(
                    markdown.toHTML( value )
            );
            Seed.setItem( 'documents', value );
        } ).trigger( 'input' );

    } );
</script>
</body>
</html>