!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Seed=t():e.Seed=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e,t){e.forEach(function(e){var n=e;e=r(e);var o=p.IS_CSS.test(e)?"css":"js";_[e]?_[e].dependencies.push(t):_[e]=i({id:e,data:null,status:"ready",fileType:o,position:l("[data-"+x.delimiter+'="'+n+'"]')[0],dependencies:[t]}),S[t]?(S[t].ids.push(e),S[t].deps.push(e)):S[t]={ids:[e],deps:[e]}})}function r(e){var t=e.charCodeAt(0);return p.ABSOLUTE.test(e)||46===t||47===t||(e=x.base+e),0===e.indexOf("//")&&(e=location.protocol+e),e}function i(e){function t(e){var t=e.match(p.PARAM);return{id:t[1],fileUrl:e,hook:t[2]||"__seed_version__"}}var n={id:e.id,fileUrl:e.id,hook:"__seed_version__"},o=x.map||t,r=o(e.id,n);return r&&"object"==typeof r||(h("\nYou may provide an incorrect 'map' method!","\nThe 'map' method expected return value is :\n",JSON.stringify({id:"Stored 'ID'",fileUrl:"Original file URL",hook:"Need to update tag"},null,4),"\nYou can refer to the following method :\n",t.toString(),"\n Seedjs will use default value :\n",JSON.stringify(n,null,4),"\n However, it's maybe can't complete update!"),r=n),e.id=r.id,e.hook=r.hook,e.fileUrl=r.fileUrl,e}function s(e){e.slice(0).forEach(function(e){var t=_[e];return"loaded"===t.status?d(t):void(x.debug||t.hook!==g.getItem(t.id+"@hook")||!g.getItem(t.id)?a(t):(t.data=g.getItem(t.id),d(t)))})}function a(e){"pending"!==e.status&&(e.status="pending",v(e.fileUrl,function(t){u(e,t)},function(){h("Some exception occurs when getting",e.fileUrl),u(e,"")},x.jsonp))}function u(e,t){e.data=t,c(e.id,e.hook,t),d(e)}function c(e,t,n){x.debug||(g.setItem(e+"@hook",t),g.setItem(e,n))}function d(e){e.dependencies.slice(0).forEach(function(t){var n=S[t];n.deps.splice(n.deps.indexOf(e.id),1),e.dependencies.splice(e.dependencies.indexOf(t),1),0===n.deps.length&&f(n.ids,t)})}function f(e,t){e.forEach(function(e){y(_[e])}),I[t]()}var l=n(3),p=n(2),m=n(10),h=n(12),v=n(7),g=n(9),y=n(6),x=n(1),_={},I=[],S={},O={use:function(e,t){if(!e)return this;if("string"==typeof e&&(e=[e]),!Array.isArray(e))return h("Seedjs can't resolve a non array parameter!"),this;if(!e.length)return h("Did you provide an empty array?"),this;"[object Function]"!=={}.toString.call(t)&&(t=m());var n=I.indexOf(t);return-1===n?(I.push(t),this.use(e,t)):(x.debug&&g.removeItem(),o(e,n),void s(S[n].deps))},scan:function(e){var t=l("[data-"+x.delimiter+"]"),n=t.length,o=[];if(!n)return this;for(var r=0;n>r;r++)o.push(t[r].dataset[x.delimiter]);this.use(o,e)},data:x,cache:_,config:n(11),setItem:g.setItem,getItem:g.getItem,removeItem:g.removeItem};e.exports=O},function(e,t){e.exports={base:location.origin,delimiter:"seed"}},function(e,t){e.exports={IS_CSS:/\.css(?:\?|$)/i,PARAM:/^(.*\.(?:css|js))(.*)$/i,ABSOLUTE:/^\/\/.|:\//,URL_OPERATOR:/[&?]{1,2}/,DIRNAME:/[^?#]*\//,DOUBLE_DOT:/\/[^\/]+\/\.\.\//,DOT:/\/\.\//g,MULTI_SLASH:/([^:\/])\/+\//g,ROOT_DIR:/^.*?\/\/.*?\//}},function(e,t){e.exports=function(e){return document.querySelectorAll(e)}},function(e,t,n){var o=n(5);e.exports=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",o(e,"_s_t_="+ +new Date),!0),r.onreadystatechange=function(){4===r.readyState&&(r.onreadystatechange=null,r.status>=200&&r.status<300||304===r.status?t(r.responseText):n())},r.send(null)}},function(e,t,n){var o=n(2);e.exports=function(e,t){return""===t?e:(e+"&"+t).replace(o.URL_OPERATOR,"?")}},function(e,t,n){var o=n(1),r=document;e.exports=function(e){if("loaded"!==e.status){e.status="loaded";var t={css:{tagName:"style",props:{type:"text/css",id:e.id}},js:{tagName:"script",props:{type:"text/javascript",id:e.id}}},n=t[e.fileType],i=e.position||r.createElement(n.tagName);for(var s in n.props)i[s]=n.props[s];e.position||r.head.appendChild(i),i.removeAttribute("data-"+o.delimiter),i.appendChild(r.createTextNode(e.data)),e.data=null,e.position=null}}},function(e,t,n){var o=n(8),r=n(4),i=n(1);e.exports=function(e,t,n,s){var a=function(e){i.load&&i.load(e)===!1?n():t(e)};s?o(s,e,a,n):r(e,a,n)}},function(e,t){e.exports=function(e,t,n,o){function r(e){e.onload=e.onerror=null;for(var t in e)delete e[t];a.removeChild(e)}var i;window[e]=function(){i=arguments};var s=document.createElement("SCRIPT"),a=document.head;s.onload=s.onerror=function(e){"load"===e.type?n.apply(null,i):o(e),r(s),s=null},s.src=t,a.insertBefore(s,a.firstChild)}},function(e,t){var n=window.localStorage,o={support:function(){function e(e){var t=!0;try{n.setItem("__seed_test__",1),n.removeItem("__seed_test__")}catch(o){if(e)try{t=e()}catch(r){t=!1}else t=!1}return t}return e(function(){return n.clear(),e()})}(),setItem:function(e,t){o.support&&n.setItem(e,t)},getItem:function(e){return o.support?n.getItem(e):null},removeItem:function(e){o.support&&(e?n.removeItem(e):n.clear())}};e.exports=o},function(e,t){e.exports=function(){return function(){}}},function(e,t,n){var o=n(1);e.exports=function(e){var t,n,r,i;for(n in e)if(r=e[n],i=o[n],i&&"object"==typeof i)for(t in i)i[t]=r[t];else o[n]=r}},function(e,t){e.exports=function(){console.warn.apply(console,["[ Seed waring ]"].concat(Array.prototype.slice.call(arguments,0)))}}])});