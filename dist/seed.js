!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Seed=t():e.Seed=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e,t){e.forEach(function(e){var n=e;f.ABSOLUTE.test(e)||(e=y.base+e);var o=f.IS_CSS.test(e)?"css":"js";x[e]?x[e].dependencies.push(t):x[e]=r({id:e,data:null,status:"ready",fileType:o,position:p("[data-"+y.delimiter+'="'+n+'"]')[0],dependencies:[t]}),I[t]?(I[t].ids.push(e),I[t].deps.push(e)):I[t]={ids:[e],deps:[e]}})}function r(e){function t(e){var t=e.match(f.PARAM);return{id:t[1],fileUrl:e,hook:t[2]||"__seed_version__"}}var n={id:e.id,fileUrl:e.id,hook:"__seed_version__"},o=y.map||t,r=o(e.id,n);return r&&"object"==typeof r||(m("\nYou may provide an incorrect 'map' method!","\nThe 'map' method expected return value is :\n",JSON.stringify({id:"Stored 'ID'",fileUrl:"Original file URL",hook:"Need to update tag"},null,4),"\nYou can refer to the following method :\n",t.toString(),"\n Seedjs will use default value :\n",JSON.stringify(n,null,4),"\n However, it's maybe can't complete update!"),r=n),e.id=r.id,e.hook=r.hook,e.fileUrl=r.fileUrl,e}function i(e){e.slice(0).forEach(function(e){var t=x[e];return"loaded"===t.status?c(t):void(y.debug||t.hook!==v.getItem(t.id+"@hook")||!v.getItem(t.id)?s(t):(t.data=v.getItem(t.id),c(t)))})}function s(e){"pending"!==e.status&&(e.status="pending",h(e.fileUrl,function(t){a(e,t)},function(){m("Some exception occurs when getting",e.fileUrl),a(e,"")},y.jsonp))}function a(e,t){e.data=t,u(e.id,e.hook,t),c(e)}function u(e,t,n){y.debug||(v.setItem(e+"@hook",t),v.setItem(e,n))}function c(e){e.dependencies.slice(0).forEach(function(t){var n=I[t];n.deps.splice(n.deps.indexOf(e.id),1),e.dependencies.splice(e.dependencies.indexOf(t),1),0===n.deps.length&&d(n.ids,t)})}function d(e,t){e.forEach(function(e){g(x[e])}),_[t]()}var p=n(3),f=n(2),l=n(10),m=n(12),h=n(7),v=n(9),g=n(6),y=n(1),x={},_=[],I={},S={use:function(e,t){if(!e)return this;if("string"==typeof e&&(e=[e]),!Array.isArray(e))return m("Seedjs can't resolve a non array parameter!"),this;if(!e.length)return m("Did you provide an empty array?"),this;"[object Function]"!==Object.prototype.toString.call(t)&&(t=l());var n=_.indexOf(t);return-1===n?(_.push(t),this.use(e,t)):(y.debug&&v.removeItem(),o(e,n),i(I[n].deps),this)},scan:function(e){var t=p("[data-"+y.delimiter+"]"),n=t.length,o=[];if(!n)return this;for(var r=0;n>r;r++)o.push(t[r].dataset[y.delimiter]);return this.use(o,e)},data:y,cache:x,config:n(11),setItem:v.setItem,getItem:v.getItem,removeItem:v.removeItem};e.exports=S},function(e,t){e.exports={base:window.location.origin,debug:!1,jsonp:null,delimiter:"seed"}},function(e,t){e.exports={IS_CSS:/\.css(?:\?|$)/i,PARAM:/^(.*\.(?:css|js))(.*)$/i,ABSOLUTE:/^\/\/.|:\//,URL_OPERATOR:/[&?]{1,2}/}},function(e,t){e.exports=function(e){return document.querySelectorAll(e)}},function(e,t,n){var o=n(5);e.exports=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",o(e,"_s_t_="+ +new Date),!0),r.onreadystatechange=function(){4===r.readyState&&(r.onreadystatechange=null,r.status>=200&&r.status<300||304===r.status?t(r.responseText):n())},r.send(null)}},function(e,t,n){var o=n(2);e.exports=function(e,t){return""===t?e:(e+"&"+t).replace(o.URL_OPERATOR,"?")}},function(e,t,n){var o=n(1),r=document;e.exports=function(e){if("loaded"!==e.status){e.status="loaded";var t={css:{tagName:"style",props:{type:"text/css",id:e.id}},js:{tagName:"script",props:{type:"text/javascript",id:e.id}}},n=t[e.fileType],i=e.position||r.createElement(n.tagName);for(var s in n.props)i[s]=n.props[s];e.position||r.head.appendChild(i),i.removeAttribute("data-"+o.delimiter),i.appendChild(r.createTextNode(e.data)),e.data=null,e.position=null}}},function(e,t,n){var o=n(8),r=n(4);e.exports=function(e,t,n,i){i?o(i,e,t,n):r(e,t,n)}},function(e,t){e.exports=function(e,t,n,o){function r(e){e.onload=e.onerror=null;for(var t in e)delete e[t];a.removeChild(e)}var i;window[e]=function(){i=arguments};var s=document.createElement("SCRIPT"),a=document.head;s.onload=s.onerror=function(e){"load"===e.type?n.apply(null,i):o(e),r(s),s=null},s.src=t,a.insertBefore(s,a.firstChild)}},function(e,t){var n=window.localStorage,o={support:function(){function e(e){var t=!0;try{n.setItem("__seed_test__",1),n.removeItem("__seed_test__")}catch(o){if(e)try{t=e()}catch(r){t=!1}else t=!1}return t}return e(function(){return n.clear(),e()})}(),setItem:function(e,t){o.support&&n.setItem(e,t)},getItem:function(e){return o.support?n.getItem(e):null},removeItem:function(e){o.support&&(e?n.removeItem(e):n.clear())}};e.exports=o},function(e,t){e.exports=function(){return function(){}}},function(e,t,n){var o=n(1);e.exports=function(e){var t,n,r,i;for(n in e)if(r=e[n],i=o[n],i&&"object"==typeof i)for(t in i)i[t]=r[t];else o[n]=r}},function(e,t){e.exports=function(e){return console.warn.apply(console,["[ Seed waring ]"].concat(Array.prototype.slice.call(arguments,0)))}}])});